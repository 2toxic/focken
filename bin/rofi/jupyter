#!/bin/sh

tmpfile=/tmp/juptmp

cd $HOME/code/ml
source $HOME/tf/bin/activate
echo "" > $tmpfile
echo "virt=tf" >> $tmpfile
echo "cwd=$HOME/code/ml" >> $tmpfile
bbc exec $(bbc list | rg jupyter | rg -Po "(^[0-9]+)")
function trap_exit () {
    rm $tmpfile
    bbc exec $(bbc list | rg jupyter | rg -Po "(^[0-9]+)")
}
trap trap_exit EXIT
jupyter notebook --NotebookApp.token='' --no-browser
